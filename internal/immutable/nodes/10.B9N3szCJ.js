import{u as ce}from"../chunks/index.BljgEkYd.js";import{n as _e,k as pe,l as me,j as he}from"../chunks/scheduler.DfWX43tP.js";import{S as ge,i as be,A as ve,s as L,e as h,c as G,z as $e,h as d,f as M,a as g,b as v,r as ke,d as J,j as z,k as R,l as i,m as K,y as ue,o as A,p as H,q as Q,t as q,g as N,B as se,v as Ee,w as ye,n as V,x as de,C as oe}from"../chunks/index.yw1ujjTK.js";import{e as ne,u as Te,o as we}from"../chunks/each.BMLb9Nez.js";import{M as De}from"../chunks/Modal.X-lIdQyS.js";import{P as Se}from"../chunks/Profile.CNRv9GbV.js";import{P as Le}from"../chunks/pencil.Csx6P2JE.js";const Me=async r=>{const{user:a}=await r.parent(),t=await ce.users();return{user:a,pagination:t}},qe=Object.freeze(Object.defineProperty({__proto__:null,load:Me},Symbol.toStringTag,{value:"Module"}));function re(r,a,t){const e=r.slice();return e[7]=a[t],e[9]=t,e}function ie(r,a){var X;let t,e,s=a[7].id+"",n,S,b,p=a[7].username+"",f,m,T,_=(((X=a[7].email)==null?void 0:X.email)||"")+"",O,P,$,U=a[7].created_at.toLocaleString()+"",j,B,l,o=a[7].updated_at.toLocaleString()+"",u,C,k,w,E,Y,D,F,W;return E=new Le({}),{key:r,first:null,c(){t=h("tr"),e=h("td"),n=q(s),S=L(),b=h("td"),f=q(p),m=L(),T=h("td"),O=q(_),P=L(),$=h("td"),j=q(U),B=L(),l=h("td"),u=q(o),C=L(),k=h("td"),w=h("button"),G(E.$$.fragment),Y=L(),this.h()},l(y){t=g(y,"TR",{class:!0});var c=v(t);e=g(c,"TD",{});var I=v(e);n=N(I,s),I.forEach(d),S=M(c),b=g(c,"TD",{});var Z=v(b);f=N(Z,p),Z.forEach(d),m=M(c),T=g(c,"TD",{});var x=v(T);O=N(x,_),x.forEach(d),P=M(c),$=g(c,"TD",{});var ee=v($);j=N(ee,U),ee.forEach(d),B=M(c),l=g(c,"TD",{});var te=v(l);u=N(te,o),te.forEach(d),C=M(c),k=g(c,"TD",{class:!0});var ae=v(k);w=g(ae,"BUTTON",{class:!0});var le=v(w);J(E.$$.fragment,le),le.forEach(d),ae.forEach(d),Y=M(c),c.forEach(d),this.h()},h(){z(w,"class","btn primary icon"),z(k,"class","transition-opacity opacity-0 group-hover:opacity-100"),z(t,"class","group"),se(t,"border-b",a[9]<a[3].length-1),this.first=t},m(y,c){R(y,t,c),i(t,e),i(e,n),i(t,S),i(t,b),i(b,f),i(t,m),i(t,T),i(T,O),i(t,P),i(t,$),i($,j),i(t,B),i(t,l),i(l,u),i(t,C),i(t,k),i(k,w),K(E,w,null),i(t,Y),D=!0,F||(W=Ee(w,"click",ye(function(){he(a[4](a[7]))&&a[4](a[7]).apply(this,arguments)})),F=!0)},p(y,c){var I;a=y,(!D||c&8)&&s!==(s=a[7].id+"")&&V(n,s),(!D||c&8)&&p!==(p=a[7].username+"")&&V(f,p),(!D||c&8)&&_!==(_=(((I=a[7].email)==null?void 0:I.email)||"")+"")&&V(O,_),(!D||c&8)&&U!==(U=a[7].created_at.toLocaleString()+"")&&V(j,U),(!D||c&8)&&o!==(o=a[7].updated_at.toLocaleString()+"")&&V(u,o),(!D||c&8)&&se(t,"border-b",a[9]<a[3].length-1)},i(y){D||(A(E.$$.fragment,y),D=!0)},o(y){H(E.$$.fragment,y),D=!1},d(y){y&&d(t),Q(E),F=!1,W()}}}function fe(r){let a,t;return a=new Se({props:{user:r[1],applications:r[2]}}),{c(){G(a.$$.fragment)},l(e){J(a.$$.fragment,e)},m(e,s){K(a,e,s),t=!0},p(e,s){const n={};s&2&&(n.user=e[1]),s&4&&(n.applications=e[2]),a.$set(n)},i(e){t||(A(a.$$.fragment,e),t=!0)},o(e){H(a.$$.fragment,e),t=!1},d(e){Q(a,e)}}}function Oe(r){let a,t,e=r[1]&&fe(r);return{c(){e&&e.c(),a=oe()},l(s){e&&e.l(s),a=oe()},m(s,n){e&&e.m(s,n),R(s,a,n),t=!0},p(s,n){s[1]?e?(e.p(s,n),n&2&&A(e,1)):(e=fe(s),e.c(),A(e,1),e.m(a.parentNode,a)):e&&(de(),H(e,1,1,()=>{e=null}),ue())},i(s){t||(A(e),t=!0)},o(s){H(e),t=!1},d(s){s&&d(a),e&&e.d(s)}}}function Pe(r){let a,t,e,s,n,S='<tr class="text-left border-b"><th class="">Id</th> <th>Username</th> <th>Email</th> <th>Created</th> <th>Updated</th> <th></th></tr>',b,p,f=[],m=new Map,T,_,O,P,$=ne(r[3]);const U=l=>l[7].id;for(let l=0;l<$.length;l+=1){let o=re(r,$,l),u=U(o);m.set(u,f[l]=ie(u,o))}function j(l){r[6](l)}let B={$$slots:{default:[Oe]},$$scope:{ctx:r}};return r[0]!==void 0&&(B.open=r[0]),_=new De({props:B}),pe.push(()=>ve(_,"open",j)),{c(){a=L(),t=h("div"),e=h("div"),s=h("table"),n=h("thead"),n.innerHTML=S,b=L(),p=h("tbody");for(let l=0;l<f.length;l+=1)f[l].c();T=L(),G(_.$$.fragment),this.h()},l(l){$e("svelte-bz0btc",document.head).forEach(d),a=M(l),t=g(l,"DIV",{class:!0});var u=v(t);e=g(u,"DIV",{class:!0});var C=v(e);s=g(C,"TABLE",{class:!0});var k=v(s);n=g(k,"THEAD",{"data-svelte-h":!0}),ke(n)!=="svelte-1epsif6"&&(n.innerHTML=S),b=M(k),p=g(k,"TBODY",{});var w=v(p);for(let E=0;E<f.length;E+=1)f[E].l(w);w.forEach(d),k.forEach(d),C.forEach(d),u.forEach(d),T=M(l),J(_.$$.fragment,l),this.h()},h(){document.title="Users",z(s,"class","table-auto w-full"),z(e,"class","bg-white dark:bg-gray-800 shadow p-4"),z(t,"class","container mx-auto my-4")},m(l,o){R(l,a,o),R(l,t,o),i(t,e),i(e,s),i(s,n),i(s,b),i(s,p);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(p,null);R(l,T,o),K(_,l,o),P=!0},p(l,[o]){o&24&&($=ne(l[3]),de(),f=Te(f,o,U,1,l,$,m,p,we,ie,null,re),ue());const u={};o&1030&&(u.$$scope={dirty:o,ctx:l}),!O&&o&1&&(O=!0,u.open=l[0],me(()=>O=!1)),_.$set(u)},i(l){if(!P){for(let o=0;o<$.length;o+=1)A(f[o]);A(_.$$.fragment,l),P=!0}},o(l){for(let o=0;o<f.length;o+=1)H(f[o]);H(_.$$.fragment,l),P=!1},d(l){l&&(d(a),d(t),d(T));for(let o=0;o<f.length;o+=1)f[o].d();Q(_,l)}}}function Ue(r,a,t){let e,{data:s}=a,n=!1,S,b={has_more:!1,items:[]};function p(m){return async()=>{t(0,n=!0),t(1,S=m),t(2,b=await ce.userApplications(m.id))}}function f(m){n=m,t(0,n)}return r.$$set=m=>{"data"in m&&t(5,s=m.data)},r.$$.update=()=>{r.$$.dirty&32&&t(3,e=s.pagination.items)},[n,S,b,e,p,s,f]}class Ne extends ge{constructor(a){super(),be(this,a,Ue,Pe,_e,{data:5})}}export{Ne as component,qe as universal};
