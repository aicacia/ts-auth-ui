import{a as ft}from"../chunks/index.n9lVo9DY.js";import{n as pt,p as ht,q as _t,r as mt,c as gt,f as ct}from"../chunks/scheduler.Bd7mgcTo.js";import{S as bt,i as vt,E as $t,s as T,e as p,c as x,z as wt,h as d,f as A,a as h,b as $,d as tt,r as dt,j as w,k as Q,l as s,u as nt,m as et,v as lt,y as Et,o as W,p as X,q as at,t as G,g as J,A as Z,n as K,x as yt}from"../chunks/index.OZdkVM2I.js";import{e as rt,u as kt,o as Tt}from"../chunks/each.CnTCTXiE.js";import{w as At}from"../chunks/index.DbUG7Ea_.js";import{b as ot}from"../chunks/paths.DexXX8xc.js";import{P as Dt}from"../chunks/pencil.Chf7sIPl.js";import{P as Lt}from"../chunks/plus.5l2NxHQ6.js";import{M as Ct}from"../chunks/Modal.CJ0dfoIn.js";import{A as St}from"../chunks/ApplicationEditor.BxSCPIDS.js";const zt=async o=>{const{user:e}=await o.parent(),t=await ft.applications();return{user:e,pagination:t}},Kt=Object.freeze(Object.defineProperty({__proto__:null,load:zt},Symbol.toStringTag,{value:"Module"}));function Pt(o,e,t=!1){const n=e.length,r=o.length;return r>n?!1:jt(t!==!0?o.toLowerCase():o,r,t!==!0?e.toLowerCase():e,n)}function jt(o,e,t,n){let r=0,u=0;t:for(;r<e;){const y=o.charAt(r++);for(;u<n;)if(t.charAt(u++)===y)continue t;return!1}return!0}function st(o,e,t){const n=o.slice();n[10]=e[t],n[13]=t;const r=n[2].has(n[10].id);return n[11]=r,n}function it(o,e){let t,n,r=e[10].id+"",u,y,f,m=e[10].description+"",C,S,D,i=e[10].uri+"",v,B,j,k=e[10].created_at.toLocaleString()+"",c,N,z,g=e[10].updated_at.toLocaleString()+"",M,O,P,L,E,H,V,b;return E=new Dt({}),{key:o,first:null,c(){t=p("tr"),n=p("td"),u=G(r),y=T(),f=p("td"),C=G(m),S=T(),D=p("td"),v=G(i),B=T(),j=p("td"),c=G(k),N=T(),z=p("td"),M=G(g),O=T(),P=p("td"),L=p("a"),x(E.$$.fragment),V=T(),this.h()},l(l){t=h(l,"TR",{class:!0});var a=$(t);n=h(a,"TD",{});var _=$(n);u=J(_,r),_.forEach(d),y=A(a),f=h(a,"TD",{});var I=$(f);C=J(I,m),I.forEach(d),S=A(a),D=h(a,"TD",{});var q=$(D);v=J(q,i),q.forEach(d),B=A(a),j=h(a,"TD",{});var F=$(j);c=J(F,k),F.forEach(d),N=A(a),z=h(a,"TD",{});var U=$(z);M=J(U,g),U.forEach(d),O=A(a),P=h(a,"TD",{class:!0});var Y=$(P);L=h(Y,"A",{class:!0,href:!0});var R=$(L);tt(E.$$.fragment,R),R.forEach(d),Y.forEach(d),V=A(a),a.forEach(d),this.h()},h(){w(L,"class","btn primary icon inline-block"),w(L,"href",H=`${ot}/applications/${e[10].id}`),w(P,"class","flex flex-row justify-end transition-opacity opacity-0 group-hover:opacity-100"),w(t,"class","group"),Z(t,"border-b",e[13]<e[0].length-1),Z(t,"hidden",e[11]),this.first=t},m(l,a){Q(l,t,a),s(t,n),s(n,u),s(t,y),s(t,f),s(f,C),s(t,S),s(t,D),s(D,v),s(t,B),s(t,j),s(j,c),s(t,N),s(t,z),s(z,M),s(t,O),s(t,P),s(P,L),et(E,L,null),s(t,V),b=!0},p(l,a){e=l,(!b||a&1)&&r!==(r=e[10].id+"")&&K(u,r),(!b||a&1)&&m!==(m=e[10].description+"")&&K(C,m),(!b||a&1)&&i!==(i=e[10].uri+"")&&K(v,i),(!b||a&1)&&k!==(k=e[10].created_at.toLocaleString()+"")&&K(c,k),(!b||a&1)&&g!==(g=e[10].updated_at.toLocaleString()+"")&&K(M,g),(!b||a&1&&H!==(H=`${ot}/applications/${e[10].id}`))&&w(L,"href",H),(!b||a&1)&&Z(t,"border-b",e[13]<e[0].length-1),(!b||a&5)&&Z(t,"hidden",e[11])},i(l){b||(W(E.$$.fragment,l),b=!0)},o(l){X(E.$$.fragment,l),b=!1},d(l){l&&d(t),at(E)}}}function It(o){let e,t;return e=new St({props:{onDone:o[5]}}),{c(){x(e.$$.fragment)},l(n){tt(e.$$.fragment,n)},m(n,r){et(e,n,r),t=!0},p:ct,i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){at(e,n)}}}function Mt(o){let e,t="Create Application";return{c(){e=p("h4"),e.textContent=t,this.h()},l(n){e=h(n,"H4",{slot:!0,"data-svelte-h":!0}),dt(e)!=="svelte-amuxsz"&&(e.textContent=t),this.h()},h(){w(e,"slot","title")},m(n,r){Q(n,e,r)},p:ct,d(n){n&&d(e)}}}function Ot(o){let e,t,n,r,u,y,f,m,C,S,D,i,v,B='<tr class="text-left border-b"><th class="">Id</th> <th>Name</th> <th>URI</th> <th>Created</th> <th>Updated</th> <th></th></tr>',j,k,c=[],N=new Map,z,g,M,O,P,L;m=new Lt({});let E=rt(o[0]);const H=l=>l[10].id;for(let l=0;l<E.length;l+=1){let a=st(o,E,l),_=H(a);N.set(_,c[l]=it(_,a))}function V(l){o[8](l)}let b={$$slots:{title:[Mt],default:[It]},$$scope:{ctx:o}};return o[3]!==void 0&&(b.open=o[3]),g=new Ct({props:b}),ht.push(()=>$t(g,"open",V)),{c(){e=T(),t=p("div"),n=p("div"),r=p("div"),u=p("input"),y=T(),f=p("button"),x(m.$$.fragment),C=T(),S=p("hr"),D=T(),i=p("table"),v=p("thead"),v.innerHTML=B,j=T(),k=p("tbody");for(let l=0;l<c.length;l+=1)c[l].c();z=T(),x(g.$$.fragment),this.h()},l(l){wt("svelte-8sap83",document.head).forEach(d),e=A(l),t=h(l,"DIV",{class:!0});var _=$(t);n=h(_,"DIV",{class:!0});var I=$(n);r=h(I,"DIV",{class:!0});var q=$(r);u=h(q,"INPUT",{type:!0,placeholder:!0}),y=A(q),f=h(q,"BUTTON",{class:!0});var F=$(f);tt(m.$$.fragment,F),F.forEach(d),q.forEach(d),C=A(I),S=h(I,"HR",{class:!0}),D=A(I),i=h(I,"TABLE",{class:!0});var U=$(i);v=h(U,"THEAD",{"data-svelte-h":!0}),dt(v)!=="svelte-1ncui65"&&(v.innerHTML=B),j=A(U),k=h(U,"TBODY",{});var Y=$(k);for(let R=0;R<c.length;R+=1)c[R].l(Y);Y.forEach(d),U.forEach(d),I.forEach(d),_.forEach(d),z=A(l),tt(g.$$.fragment,l),this.h()},h(){document.title="Applications",w(u,"type","text"),w(u,"placeholder","Filter.."),w(f,"class","btn primary icon"),w(r,"class","flex flex-row flex-grow justify-between"),w(S,"class","my-1"),w(i,"class","table-auto w-full"),w(n,"class","bg-white dark:bg-gray-800 shadow p-4"),w(t,"class","container mx-auto my-4")},m(l,a){Q(l,e,a),Q(l,t,a),s(t,n),s(n,r),s(r,u),nt(u,o[1]),s(r,y),s(r,f),et(m,f,null),s(n,C),s(n,S),s(n,D),s(n,i),s(i,v),s(i,j),s(i,k);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(k,null);Q(l,z,a),et(g,l,a),O=!0,P||(L=[lt(u,"input",o[7]),lt(f,"click",o[4])],P=!0)},p(l,[a]){a&2&&u.value!==l[1]&&nt(u,l[1]),a&5&&(E=rt(l[0]),yt(),c=kt(c,a,H,1,l,E,N,k,Tt,it,null,st),Et());const _={};a&16384&&(_.$$scope={dirty:a,ctx:l}),!M&&a&8&&(M=!0,_.open=l[3],_t(()=>M=!1)),g.$set(_)},i(l){if(!O){W(m.$$.fragment,l);for(let a=0;a<E.length;a+=1)W(c[a]);W(g.$$.fragment,l),O=!0}},o(l){X(m.$$.fragment,l);for(let a=0;a<c.length;a+=1)X(c[a]);X(g.$$.fragment,l),O=!1},d(l){l&&(d(e),d(t),d(z)),at(m);for(let a=0;a<c.length;a+=1)c[a].d();at(g,l),P=!1,mt(L)}}}let ut=At("");function Ht(o,e,t){let n,r;gt(o,ut,i=>t(1,r=i));let{data:u}=e;u.pagination.has_more;let y=new Set,f=!1;function m(){t(3,f=!0)}function C(i){t(0,n=[i,...n]),t(3,f=!1)}function S(){r=this.value,ut.set(r)}function D(i){f=i,t(3,f)}return o.$$set=i=>{"data"in i&&t(6,u=i.data)},o.$$.update=()=>{o.$$.dirty&64&&t(0,n=u.pagination.items),o.$$.dirty&3&&t(2,y=r.length?n.reduce((i,v)=>(Pt(r,v.description)||i.add(v.id),i),new Set):new Set)},[n,r,y,f,m,C,u,S,D]}class Qt extends bt{constructor(e){super(),vt(this,e,Ht,Ot,pt,{data:6})}}export{Qt as component,Kt as universal};
