import{s as Pe,d as ae,e as he,a as Ve,u as Te,g as je,b as Se,n as ce,k as K,l as Z,f as ue,r as ke,c as Mt}from"./scheduler.DfWX43tP.js";import{S as ee,i as te,c as M,d as R,m as O,o as y,p as D,q as L,A as G,e as $,s as A,a as k,b as V,f as U,h as b,j as v,k as I,l as E,x as Y,y as x,r as X,v as q,u as ne,w as _e,t as re,g as ie,n as Fe,B as pe,C as W}from"./index.yw1ujjTK.js";import{e as we,u as ze,o as Ke}from"./each.BMLb9Nez.js";import{a as me}from"./entry.PqAeg84Z.js";import{u as le}from"./index.BljgEkYd.js";import{u as de,e as Rt}from"./user.CWLSZk9A.js";import{D as Ze}from"./Dropdown.DieFkKij.js";import{I as Ae,g as Ue,a as He}from"./Icon.BqYKNaj_.js";import{C as Dt}from"./circle-check.DPLRMjG-.js";import{h as se}from"./errors.DI1mLwO8.js";import{c as $e}from"./notifications.DAgDia_a.js";import{M as De}from"./Modal.X-lIdQyS.js";import{I as Ie,d as Me,i as Re,S as Oe,K as Le,V as Be,v as be,w as ge}from"./Spinner.DpnkzrsM.js";import{P as Pt}from"./plus.DuMUAtAa.js";function Ot(r){let e;const n=r[2].default,t=Ve(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Te(t,n,l,l[3],e?Se(n,l[3],s,null):je(l[3]),null)},i(l){e||(y(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Lt(r){let e,n;const t=[{name:"ellipsis-vertical"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[Ot]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=ae(l,t[s]);return e=new Ae({props:l}),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){O(e,s,i),n=!0},p(s,[i]){const o=i&3?Ue(t,[t[0],i&2&&He(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){D(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Bt(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];return r.$$set=i=>{n(1,e=ae(ae({},e),he(i))),"$$scope"in i&&n(3,l=i.$$scope)},e=he(e),[s,e,t,l]}class Ge extends ee{constructor(e){super(),te(this,e,Bt,Lt,Pe,{})}}function qt(r){let e;const n=r[2].default,t=Ve(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Te(t,n,l,l[3],e?Se(n,l[3],s,null):je(l[3]),null)},i(l){e||(y(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Ft(r){let e,n;const t=[{name:"send"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[qt]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=ae(l,t[s]);return e=new Ae({props:l}),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){O(e,s,i),n=!0},p(s,[i]){const o=i&3?Ue(t,[t[0],i&2&&He(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){D(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function zt(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m22 2-7 20-4-9-9-4Z"}],["path",{d:"M22 2 11 13"}]];return r.$$set=i=>{n(1,e=ae(ae({},e),he(i))),"$$scope"in i&&n(3,l=i.$$scope)},e=he(e),[s,e,t,l]}class Vt extends ee{constructor(e){super(),te(this,e,zt,Ft,Pe,{})}}function Kt(r){let e;const n=r[2].default,t=Ve(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Te(t,n,l,l[3],e?Se(n,l[3],s,null):je(l[3]),null)},i(l){e||(y(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Zt(r){let e,n;const t=[{name:"mail"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[Kt]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=ae(l,t[s]);return e=new Ae({props:l}),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){O(e,s,i),n=!0},p(s,[i]){const o=i&3?Ue(t,[t[0],i&2&&He(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){D(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Gt(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}]];return r.$$set=i=>{n(1,e=ae(ae({},e),he(i))),"$$scope"in i&&n(3,l=i.$$scope)},e=he(e),[s,e,t,l]}class Tt extends ee{constructor(e){super(),te(this,e,Gt,Zt,Pe,{})}}function Jt(r){let e;const n=r[2].default,t=Ve(n,r,r[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Te(t,n,l,l[3],e?Se(n,l[3],s,null):je(l[3]),null)},i(l){e||(y(t,l),e=!0)},o(l){D(t,l),e=!1},d(l){t&&t.d(l)}}}function Qt(r){let e,n;const t=[{name:"trash"},r[1],{iconNode:r[0]}];let l={$$slots:{default:[Jt]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=ae(l,t[s]);return e=new Ae({props:l}),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){O(e,s,i),n=!0},p(s,[i]){const o=i&3?Ue(t,[t[0],i&2&&He(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){n||(y(e.$$.fragment,s),n=!0)},o(s){D(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Wt(r,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]];return r.$$set=i=>{n(1,e=ae(ae({},e),he(i))),"$$scope"in i&&n(3,l=i.$$scope)},e=he(e),[s,e,t,l]}class Je extends ee{constructor(e){super(),te(this,e,Wt,Qt,Pe,{})}}function rt(r){let e,n,t;return n=new Dt({props:{size:22}}),{c(){e=$("span"),M(n.$$.fragment),this.h()},l(l){e=k(l,"SPAN",{class:!0,title:!0});var s=V(e);R(n.$$.fragment,s),s.forEach(b),this.h()},h(){v(e,"class","absolute top-0 right-0 mt-1 me-1 text-green-600 cursor-help"),v(e,"title","Confirmed")},m(l,s){I(l,e,s),O(n,e,null),t=!0},i(l){t||(y(n.$$.fragment,l),t=!0)},o(l){D(n.$$.fragment,l),t=!1},d(l){l&&b(e),L(n)}}}function it(r){let e,n,t,l;function s(o){r[12](o)}let i={$$slots:{button:[en],default:[xt]},$$scope:{ctx:r}};return r[3]!==void 0&&(i.open=r[3]),n=new Ze({props:i}),K.push(()=>G(n,"open",s)),{c(){e=$("div"),M(n.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=V(e);R(n.$$.fragment,a),a.forEach(b),this.h()},h(){v(e,"class","flex flex-shrink")},m(o,a){I(o,e,a),O(n,e,null),l=!0},p(o,a){const f={};a&65537&&(f.$$scope={dirty:a,ctx:o}),!t&&a&8&&(t=!0,f.open=o[3],Z(()=>t=!1)),n.$set(f)},i(o){l||(y(n.$$.fragment,o),l=!0)},o(o){D(n.$$.fragment,o),l=!1},d(o){o&&b(e),L(n)}}}function Xt(r){let e,n,t,l="Set as Primary",s,i,o;return n=new Vt({}),{c(){e=$("li"),M(n.$$.fragment),t=$("span"),t.textContent=l,this.h()},l(a){e=k(a,"LI",{class:!0});var f=V(e);R(n.$$.fragment,f),t=k(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1snax8g"&&(t.textContent=l),f.forEach(b),this.h()},h(){v(t,"class","ms-4"),v(e,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(a,f){I(a,e,f),O(n,e,null),E(e,t),s=!0,i||(o=q(e,"click",r[6]),i=!0)},p:ue,i(a){s||(y(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&b(e),L(n),i=!1,o()}}}function Yt(r){let e,n,t,l="Send Confirmation Email",s,i,o;return n=new Tt({}),{c(){e=$("li"),M(n.$$.fragment),t=$("span"),t.textContent=l,this.h()},l(a){e=k(a,"LI",{class:!0});var f=V(e);R(n.$$.fragment,f),t=k(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-181u1lh"&&(t.textContent=l),f.forEach(b),this.h()},h(){v(t,"class","ms-4"),v(e,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(a,f){I(a,e,f),O(n,e,null),E(e,t),s=!0,i||(o=q(e,"click",r[8]),i=!0)},p:ue,i(a){s||(y(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&b(e),L(n),i=!1,o()}}}function xt(r){let e,n,t,l,s,i,o="Delete",a,f,c;const m=[Yt,Xt],h=[];function d(u,_){return u[0].confirmed?1:0}return e=d(r),n=h[e]=m[e](r),s=new Je({}),{c(){n.c(),t=A(),l=$("li"),M(s.$$.fragment),i=$("span"),i.textContent=o,this.h()},l(u){n.l(u),t=U(u),l=k(u,"LI",{class:!0});var _=V(l);R(s.$$.fragment,_),i=k(_,"SPAN",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-19vw4j3"&&(i.textContent=o),_.forEach(b),this.h()},h(){v(i,"class","ms-4"),v(l,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(u,_){h[e].m(u,_),I(u,t,_),I(u,l,_),O(s,l,null),E(l,i),a=!0,f||(c=q(l,"click",r[10]),f=!0)},p(u,_){let p=e;e=d(u),e===p?h[e].p(u,_):(Y(),D(h[p],1,1,()=>{h[p]=null}),x(),n=h[e],n?n.p(u,_):(n=h[e]=m[e](u),n.c()),y(n,1),n.m(t.parentNode,t))},i(u){a||(y(n),y(s.$$.fragment,u),a=!0)},o(u){D(n),D(s.$$.fragment,u),a=!1},d(u){u&&(b(t),b(l)),h[e].d(u),L(s),f=!1,c()}}}function en(r){let e,n;return e=new Ge({props:{slot:"button"}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p:ue,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function tn(r){let e,n,t,l,s,i='<button class="btn primary" type="submit">Confirm</button>',o,a;return{c(){e=$("form"),n=$("div"),t=$("input"),l=A(),s=$("div"),s.innerHTML=i,this.h()},l(f){e=k(f,"FORM",{});var c=V(e);n=k(c,"DIV",{class:!0});var m=V(n);t=k(m,"INPUT",{type:!0,class:!0,placeholder:!0}),m.forEach(b),l=U(c),s=k(c,"DIV",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-1iq6cze"&&(s.innerHTML=i),c.forEach(b),this.h()},h(){v(t,"type","text"),v(t,"class","flex flex-grow"),v(t,"placeholder","Confirmation Token"),v(n,"class","flex flex-col"),v(s,"class","flex flex-row justify-end mt-2")},m(f,c){I(f,e,c),E(e,n),E(n,t),ne(t,r[4]),E(e,l),E(e,s),o||(a=[q(t,"input",r[13]),q(e,"submit",_e(r[9]))],o=!0)},p(f,c){c&16&&t.value!==f[4]&&ne(t,f[4])},d(f){f&&b(e),o=!1,ke(a)}}}function nn(r){let e,n="Check your Email";return{c(){e=$("h4"),e.textContent=n,this.h()},l(t){e=k(t,"H4",{slot:!0,"data-svelte-h":!0}),X(e)!=="svelte-1hz3mb8"&&(e.textContent=n),this.h()},h(){v(e,"slot","title")},m(t,l){I(t,e,l)},p:ue,d(t){t&&b(e)}}}function ln(r){let e,n='<div class="flex flex-row justify-end"><button class="btn danger" type="submit">Delete</button></div>',t,l;return{c(){e=$("form"),e.innerHTML=n},l(s){e=k(s,"FORM",{"data-svelte-h":!0}),X(e)!=="svelte-1ini365"&&(e.innerHTML=n)},m(s,i){I(s,e,i),t||(l=q(e,"submit",_e(r[7])),t=!0)},p:ue,d(s){s&&b(e),t=!1,l()}}}function sn(r){let e,n,t=r[0].email+"",l,s;return{c(){e=$("h4"),n=re("Delete "),l=re(t),s=re("?"),this.h()},l(i){e=k(i,"H4",{slot:!0});var o=V(e);n=ie(o,"Delete "),l=ie(o,t),s=ie(o,"?"),o.forEach(b),this.h()},h(){v(e,"slot","title")},m(i,o){I(i,e,o),E(e,n),E(e,l),E(e,s)},p(i,o){o&1&&t!==(t=i[0].email+"")&&Fe(l,t)},d(i){i&&b(e)}}}function rn(r){let e,n,t,l,s,i,o,a,f,c,m,h,d,u=r[0].confirmed&&rt(),_=(!r[2]||!r[0].confirmed)&&it(r);function p(w){r[14](w)}let g={backgroundClose:!1,$$slots:{title:[nn],default:[tn]},$$scope:{ctx:r}};r[1]!==void 0&&(g.open=r[1]),a=new De({props:g}),K.push(()=>G(a,"open",p));function P(w){r[15](w)}let C={$$slots:{title:[sn],default:[ln]},$$scope:{ctx:r}};return r[5]!==void 0&&(C.open=r[5]),m=new De({props:C}),K.push(()=>G(m,"open",P)),{c(){e=$("div"),n=$("div"),t=$("input"),s=A(),u&&u.c(),i=A(),_&&_.c(),o=A(),M(a.$$.fragment),c=A(),M(m.$$.fragment),this.h()},l(w){e=k(w,"DIV",{class:!0});var N=V(e);n=k(N,"DIV",{class:!0});var T=V(n);t=k(T,"INPUT",{class:!0,type:!0}),s=U(T),u&&u.l(T),T.forEach(b),i=U(N),_&&_.l(N),N.forEach(b),o=U(w),R(a.$$.fragment,w),c=U(w),R(m.$$.fragment,w),this.h()},h(){v(t,"class","w-full"),v(t,"type","email"),t.value=l=r[0].email,t.readOnly=!0,v(n,"class","flex flex-grow relative"),v(e,"class","flex flex-row flex-grow items-center justify-between")},m(w,N){I(w,e,N),E(e,n),E(n,t),E(n,s),u&&u.m(n,null),E(e,i),_&&_.m(e,null),I(w,o,N),O(a,w,N),I(w,c,N),O(m,w,N),d=!0},p(w,[N]){(!d||N&1&&l!==(l=w[0].email)&&t.value!==l)&&(t.value=l),w[0].confirmed?u?N&1&&y(u,1):(u=rt(),u.c(),y(u,1),u.m(n,null)):u&&(Y(),D(u,1,1,()=>{u=null}),x()),!w[2]||!w[0].confirmed?_?(_.p(w,N),N&5&&y(_,1)):(_=it(w),_.c(),y(_,1),_.m(e,null)):_&&(Y(),D(_,1,1,()=>{_=null}),x());const T={};N&65552&&(T.$$scope={dirty:N,ctx:w}),!f&&N&2&&(f=!0,T.open=w[1],Z(()=>f=!1)),a.$set(T);const j={};N&65537&&(j.$$scope={dirty:N,ctx:w}),!h&&N&32&&(h=!0,j.open=w[5],Z(()=>h=!1)),m.$set(j)},i(w){d||(y(u),y(_),y(a.$$.fragment,w),y(m.$$.fragment,w),d=!0)},o(w){D(u),D(_),D(a.$$.fragment,w),D(m.$$.fragment,w),d=!1},d(w){w&&(b(e),b(o),b(c)),u&&u.d(),_&&_.d(),L(a,w),L(m,w)}}}function on(r,e,n){let{user:t}=e,{email:l}=e,{primary:s=!1}=e,{sentEmailConfirmation:i=!1}=e,o=!1;async function a(){try{await le.setPrimaryEmail(t.id,l.id);const C=t.emails.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&C.splice(w,1),t.email&&C.push(t.email),n(11,t={...t,email:l,emails:C}),de(t),n(3,o=!1),await me()}catch(C){await se(C)}}async function f(){try{await le.deleteEmail(t.id,l.id);const C=t.emails.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&C.splice(w,1),n(11,t={...t,emails:C}),de(t),n(5,d=!1),await me()}catch(C){await se(C)}}let c;async function m(){try{await le.sendConfirmationToEmail(t.id,l.id),n(3,o=!1),n(1,i=!0),$e("sent_email_confirmation","info")}catch(C){await se(C)}}async function h(){try{n(0,l=await le.confirmEmail(t.id,l.id,{token:c}));const C=t.emails.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&(C[w]=l),n(11,t={...t,emails:C}),de(t),n(1,i=!1),$e("email_confirmed","success"),await me()}catch(C){await se(C)}}let d=!1;function u(){n(5,d=!0),n(3,o=!1)}function _(C){o=C,n(3,o)}function p(){c=this.value,n(4,c)}function g(C){i=C,n(1,i)}function P(C){d=C,n(5,d)}return r.$$set=C=>{"user"in C&&n(11,t=C.user),"email"in C&&n(0,l=C.email),"primary"in C&&n(2,s=C.primary),"sentEmailConfirmation"in C&&n(1,i=C.sentEmailConfirmation)},[l,i,s,o,c,d,a,f,m,h,u,t,_,p,g,P]}class jt extends ee{constructor(e){super(),te(this,e,on,rn,ce,{user:11,email:0,primary:2,sentEmailConfirmation:1})}}function ot(r){let e,n,t,l;return t=new Oe({}),{c(){e=$("div"),n=$("div"),M(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=V(e);n=k(i,"DIV",{class:!0});var o=V(n);R(t.$$.fragment,o),o.forEach(b),i.forEach(b),this.h()},h(){v(n,"class","inline-block w-6 h-6"),v(e,"class","flex flex-row justify-center mr-2")},m(s,i){I(s,e,i),E(e,n),O(t,n,null),l=!0},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&b(e),L(t)}}}function an(r){let e,n,t,l,s,i,o,a,f,c,m,h,d,u,_,p,g,P,C,w;o=new Ie({props:{name:"email",result:r[0]}});let N=r[1]&&ot();return g=new Pt({}),{c(){e=$("div"),n=$("form"),t=$("div"),l=$("input"),i=A(),M(o.$$.fragment),a=A(),f=$("div"),c=$("button"),m=re("Cancel"),h=A(),d=$("button"),N&&N.c(),u=re(`
				Add`),_=A(),p=$("button"),M(g.$$.fragment),this.h()},l(T){e=k(T,"DIV",{class:!0});var j=V(e);n=k(j,"FORM",{class:!0});var H=V(n);t=k(H,"DIV",{class:!0});var B=V(t);l=k(B,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),i=U(B),R(o.$$.fragment,B),B.forEach(b),a=U(H),f=k(H,"DIV",{class:!0});var F=V(f);c=k(F,"BUTTON",{class:!0});var Q=V(c);m=ie(Q,"Cancel"),Q.forEach(b),h=U(F),d=k(F,"BUTTON",{type:!0,class:!0});var oe=V(d);N&&N.l(oe),u=ie(oe,`
				Add`),oe.forEach(b),F.forEach(b),H.forEach(b),_=U(j),p=k(j,"BUTTON",{class:!0});var fe=V(p);R(g.$$.fragment,fe),fe.forEach(b),j.forEach(b),this.h()},h(){v(l,"class",s="w-full "+r[4]("email")),v(l,"type","email"),v(l,"name","email"),v(l,"autocomplete","email"),v(l,"placeholder","New Email"),v(t,"class","mb-2"),v(c,"class","btn secondary flex flex-shrink"),c.disabled=r[5],v(d,"type","submit"),v(d,"class","btn primary flex flex-shrink"),d.disabled=r[5],v(f,"class","flex flex-row justify-end"),v(n,"class","flex flex-col flex-grow"),pe(n,"hidden",!r[3]),v(p,"class","btn primary icon"),pe(p,"hidden",r[3]),v(e,"class","flex flex-row flex-grow justify-end mt-4")},m(T,j){I(T,e,j),E(e,n),E(n,t),E(t,l),ne(l,r[2]),E(t,i),O(o,t,null),E(n,a),E(n,f),E(f,c),E(c,m),E(f,h),E(f,d),N&&N.m(d,null),E(d,u),E(e,_),E(e,p),O(g,p,null),P=!0,C||(w=[q(l,"input",r[11]),q(l,"input",r[6]),q(c,"click",r[8]),q(n,"submit",_e(r[9])),q(p,"click",r[7])],C=!0)},p(T,[j]){(!P||j&16&&s!==(s="w-full "+T[4]("email")))&&v(l,"class",s),j&4&&l.value!==T[2]&&ne(l,T[2]);const H={};j&1&&(H.result=T[0]),o.$set(H),(!P||j&32)&&(c.disabled=T[5]),T[1]?N?j&2&&y(N,1):(N=ot(),N.c(),y(N,1),N.m(d,u)):N&&(Y(),D(N,1,1,()=>{N=null}),x()),(!P||j&32)&&(d.disabled=T[5]),(!P||j&8)&&pe(n,"hidden",!T[3]),(!P||j&8)&&pe(p,"hidden",T[3])},i(T){P||(y(o.$$.fragment,T),y(N),y(g.$$.fragment,T),P=!0)},o(T){D(o.$$.fragment,T),D(N),D(g.$$.fragment,T),P=!1},d(T){T&&b(e),L(o),N&&N.d(),L(g),C=!1,ke(w)}}}const un=()=>Le((r={},e)=>{e.length&&(Be(e),be("email","required",()=>{ge(r.email).isNotBlank()}))});function fn(r,e,n){let t,l,{onCreate:s}=e;const i=un();let o="",a=i.get();const f=new Set,c=Me(()=>{i({email:o},Array.from(f)).done(C=>{n(0,a=C)}),f.clear()},300);function m(){f.add("email"),c(),c.flush()}function h(C){f.add(C.currentTarget.name),c()}let d=!1;function u(){n(3,d=!0)}function _(){n(3,d=!1)}let p=!1;async function g(){try{n(1,p=!0),m(),a.isValid()&&(await s(o),n(3,d=!1),n(2,o=""))}catch(C){await se(C)}finally{n(1,p=!1)}}function P(){o=this.value,n(2,o)}return r.$$set=C=>{"onCreate"in C&&n(10,s=C.onCreate)},r.$$.update=()=>{r.$$.dirty&2&&n(5,t=p),r.$$.dirty&1&&n(4,l=Re(a,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[a,p,o,d,l,t,h,u,_,g,s,P]}class cn extends ee{constructor(e){super(),te(this,e,fn,an,ce,{onCreate:10})}}function at(r,e,n){const t=r.slice();return t[7]=e[n],t[8]=e,t[9]=n,t}function ut(r){let e,n,t,l,s,i;function o(m){r[3](m)}function a(m){r[4](m)}let f={primary:!0};r[0]!==void 0&&(f.user=r[0]),r[0].email!==void 0&&(f.email=r[0].email),e=new jt({props:f}),K.push(()=>G(e,"user",o)),K.push(()=>G(e,"email",a));let c=r[0].emails.length&&ft();return{c(){M(e.$$.fragment),l=A(),c&&c.c(),s=W()},l(m){R(e.$$.fragment,m),l=U(m),c&&c.l(m),s=W()},m(m,h){O(e,m,h),I(m,l,h),c&&c.m(m,h),I(m,s,h),i=!0},p(m,h){const d={};!n&&h&1&&(n=!0,d.user=m[0],Z(()=>n=!1)),!t&&h&1&&(t=!0,d.email=m[0].email,Z(()=>t=!1)),e.$set(d),m[0].emails.length?c||(c=ft(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(m){i||(y(e.$$.fragment,m),i=!0)},o(m){D(e.$$.fragment,m),i=!1},d(m){m&&(b(l),b(s)),L(e,m),c&&c.d(m)}}}function ft(r){let e;return{c(){e=$("hr"),this.h()},l(n){e=k(n,"HR",{class:!0}),this.h()},h(){v(e,"class","my-1")},m(n,t){I(n,e,t)},d(n){n&&b(e)}}}function ct(r){let e;return{c(){e=$("hr"),this.h()},l(n){e=k(n,"HR",{class:!0}),this.h()},h(){v(e,"class","my-1")},m(n,t){I(n,e,t)},d(n){n&&b(e)}}}function mt(r,e){var d;let n,t,l,s,i,o,a;function f(u){e[5](u)}function c(u){e[6](u,e[7],e[8],e[9])}let m={sentEmailConfirmation:((d=e[1])==null?void 0:d.id)===e[7].id};e[0]!==void 0&&(m.user=e[0]),e[7]!==void 0&&(m.email=e[7]),t=new jt({props:m}),K.push(()=>G(t,"user",f)),K.push(()=>G(t,"email",c));let h=e[9]<e[0].emails.length-1&&ct();return{key:r,first:null,c(){n=W(),M(t.$$.fragment),i=A(),h&&h.c(),o=W(),this.h()},l(u){n=W(),R(t.$$.fragment,u),i=U(u),h&&h.l(u),o=W(),this.h()},h(){this.first=n},m(u,_){I(u,n,_),O(t,u,_),I(u,i,_),h&&h.m(u,_),I(u,o,_),a=!0},p(u,_){var g;e=u;const p={};_&3&&(p.sentEmailConfirmation=((g=e[1])==null?void 0:g.id)===e[7].id),!l&&_&1&&(l=!0,p.user=e[0],Z(()=>l=!1)),!s&&_&1&&(s=!0,p.email=e[7],Z(()=>s=!1)),t.$set(p),e[9]<e[0].emails.length-1?h||(h=ct(),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},i(u){a||(y(t.$$.fragment,u),a=!0)},o(u){D(t.$$.fragment,u),a=!1},d(u){u&&(b(n),b(i),b(o)),L(t,u),h&&h.d(u)}}}function mn(r){let e,n="Emails",t,l,s,i,o,a=[],f=new Map,c,m,h,d=r[0].email&&ut(r),u=we(r[0].emails);const _=p=>p[7].id;for(let p=0;p<u.length;p+=1){let g=at(r,u,p),P=_(g);f.set(P,a[p]=mt(P,g))}return m=new cn({props:{onCreate:r[2]}}),{c(){e=$("h3"),e.textContent=n,t=A(),l=$("hr"),s=A(),i=$("div"),d&&d.c(),o=A();for(let p=0;p<a.length;p+=1)a[p].c();c=A(),M(m.$$.fragment),this.h()},l(p){e=k(p,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-tgzccd"&&(e.textContent=n),t=U(p),l=k(p,"HR",{class:!0}),s=U(p),i=k(p,"DIV",{class:!0});var g=V(i);d&&d.l(g),o=U(g);for(let P=0;P<a.length;P+=1)a[P].l(g);g.forEach(b),c=U(p),R(m.$$.fragment,p),this.h()},h(){v(e,"class","mb-1"),v(l,"class","my-1"),v(i,"class","flex flex-col")},m(p,g){I(p,e,g),I(p,t,g),I(p,l,g),I(p,s,g),I(p,i,g),d&&d.m(i,null),E(i,o);for(let P=0;P<a.length;P+=1)a[P]&&a[P].m(i,null);I(p,c,g),O(m,p,g),h=!0},p(p,[g]){p[0].email?d?(d.p(p,g),g&1&&y(d,1)):(d=ut(p),d.c(),y(d,1),d.m(i,o)):d&&(Y(),D(d,1,1,()=>{d=null}),x()),g&3&&(u=we(p[0].emails),Y(),a=ze(a,g,_,1,p,u,f,i,Ke,mt,null,at),x())},i(p){if(!h){y(d);for(let g=0;g<u.length;g+=1)y(a[g]);y(m.$$.fragment,p),h=!0}},o(p){D(d);for(let g=0;g<a.length;g+=1)D(a[g]);D(m.$$.fragment,p),h=!1},d(p){p&&(b(e),b(t),b(l),b(s),b(i),b(c)),d&&d.d();for(let g=0;g<a.length;g+=1)a[g].d();L(m,p)}}}function dn(r,e,n){let{user:t}=e,l;async function s(c){n(1,l=await le.createEmail(t.id,{email:c})),n(0,t={...t,emails:[...t.emails,l]}),de(t),await me()}function i(c){t=c,n(0,t)}function o(c){r.$$.not_equal(t.email,c)&&(t.email=c,n(0,t))}function a(c){t=c,n(0,t)}function f(c,m,h,d){h[d]=c,n(0,t)}return r.$$set=c=>{"user"in c&&n(0,t=c.user)},[t,l,s,i,o,a,f]}class pn extends ee{constructor(e){super(),te(this,e,dn,mn,ce,{user:0})}}function dt(r){let e,n,t;return n=new Dt({props:{size:22}}),{c(){e=$("span"),M(n.$$.fragment),this.h()},l(l){e=k(l,"SPAN",{class:!0,title:!0});var s=V(e);R(n.$$.fragment,s),s.forEach(b),this.h()},h(){v(e,"class","absolute top-0 right-0 mt-1 me-1 text-green-600 cursor-help"),v(e,"title","Confirmed")},m(l,s){I(l,e,s),O(n,e,null),t=!0},i(l){t||(y(n.$$.fragment,l),t=!0)},o(l){D(n.$$.fragment,l),t=!1},d(l){l&&b(e),L(n)}}}function pt(r){let e,n,t,l;function s(o){r[12](o)}let i={$$slots:{button:[gn],default:[bn]},$$scope:{ctx:r}};return r[3]!==void 0&&(i.open=r[3]),n=new Ze({props:i}),K.push(()=>G(n,"open",s)),{c(){e=$("div"),M(n.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var a=V(e);R(n.$$.fragment,a),a.forEach(b),this.h()},h(){v(e,"class","flex flex-shrink")},m(o,a){I(o,e,a),O(n,e,null),l=!0},p(o,a){const f={};a&65537&&(f.$$scope={dirty:a,ctx:o}),!t&&a&8&&(t=!0,f.open=o[3],Z(()=>t=!1)),n.$set(f)},i(o){l||(y(n.$$.fragment,o),l=!0)},o(o){D(n.$$.fragment,o),l=!1},d(o){o&&b(e),L(n)}}}function hn(r){let e,n,t,l="Set as Primary",s,i,o;return n=new Vt({}),{c(){e=$("li"),M(n.$$.fragment),t=$("span"),t.textContent=l,this.h()},l(a){e=k(a,"LI",{class:!0});var f=V(e);R(n.$$.fragment,f),t=k(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1snax8g"&&(t.textContent=l),f.forEach(b),this.h()},h(){v(t,"class","ms-4"),v(e,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(a,f){I(a,e,f),O(n,e,null),E(e,t),s=!0,i||(o=q(e,"click",r[6]),i=!0)},p:ue,i(a){s||(y(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&b(e),L(n),i=!1,o()}}}function _n(r){let e,n,t,l="Send Confirmation PhoneNumber",s,i,o;return n=new Tt({}),{c(){e=$("li"),M(n.$$.fragment),t=$("span"),t.textContent=l,this.h()},l(a){e=k(a,"LI",{class:!0});var f=V(e);R(n.$$.fragment,f),t=k(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-perco"&&(t.textContent=l),f.forEach(b),this.h()},h(){v(t,"class","ms-4"),v(e,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(a,f){I(a,e,f),O(n,e,null),E(e,t),s=!0,i||(o=q(e,"click",r[8]),i=!0)},p:ue,i(a){s||(y(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&b(e),L(n),i=!1,o()}}}function bn(r){let e,n,t,l,s,i,o="Delete",a,f,c;const m=[_n,hn],h=[];function d(u,_){return u[0].confirmed?1:0}return e=d(r),n=h[e]=m[e](r),s=new Je({}),{c(){n.c(),t=A(),l=$("li"),M(s.$$.fragment),i=$("span"),i.textContent=o,this.h()},l(u){n.l(u),t=U(u),l=k(u,"LI",{class:!0});var _=V(l);R(s.$$.fragment,_),i=k(_,"SPAN",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-19vw4j3"&&(i.textContent=o),_.forEach(b),this.h()},h(){v(i,"class","ms-4"),v(l,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(u,_){h[e].m(u,_),I(u,t,_),I(u,l,_),O(s,l,null),E(l,i),a=!0,f||(c=q(l,"click",r[10]),f=!0)},p(u,_){let p=e;e=d(u),e===p?h[e].p(u,_):(Y(),D(h[p],1,1,()=>{h[p]=null}),x(),n=h[e],n?n.p(u,_):(n=h[e]=m[e](u),n.c()),y(n,1),n.m(t.parentNode,t))},i(u){a||(y(n),y(s.$$.fragment,u),a=!0)},o(u){D(n),D(s.$$.fragment,u),a=!1},d(u){u&&(b(t),b(l)),h[e].d(u),L(s),f=!1,c()}}}function gn(r){let e,n;return e=new Ge({props:{slot:"button"}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p:ue,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function vn(r){let e,n,t,l,s,i='<button class="btn primary" type="submit">Confirm</button>',o,a;return{c(){e=$("form"),n=$("div"),t=$("input"),l=A(),s=$("div"),s.innerHTML=i,this.h()},l(f){e=k(f,"FORM",{});var c=V(e);n=k(c,"DIV",{class:!0});var m=V(n);t=k(m,"INPUT",{type:!0,class:!0,placeholder:!0}),m.forEach(b),l=U(c),s=k(c,"DIV",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-1iq6cze"&&(s.innerHTML=i),c.forEach(b),this.h()},h(){v(t,"type","text"),v(t,"class","flex flex-grow"),v(t,"placeholder","Confirmation Token"),v(n,"class","flex flex-col"),v(s,"class","flex flex-row justify-end mt-2")},m(f,c){I(f,e,c),E(e,n),E(n,t),ne(t,r[4]),E(e,l),E(e,s),o||(a=[q(t,"input",r[13]),q(e,"submit",_e(r[9]))],o=!0)},p(f,c){c&16&&t.value!==f[4]&&ne(t,f[4])},d(f){f&&b(e),o=!1,ke(a)}}}function wn(r){let e,n="Check your PhoneNumber";return{c(){e=$("h4"),e.textContent=n,this.h()},l(t){e=k(t,"H4",{slot:!0,"data-svelte-h":!0}),X(e)!=="svelte-b43exv"&&(e.textContent=n),this.h()},h(){v(e,"slot","title")},m(t,l){I(t,e,l)},p:ue,d(t){t&&b(e)}}}function $n(r){let e,n='<div class="flex flex-row justify-end"><button class="btn danger" type="submit">Delete</button></div>',t,l;return{c(){e=$("form"),e.innerHTML=n},l(s){e=k(s,"FORM",{"data-svelte-h":!0}),X(e)!=="svelte-1rrelw6"&&(e.innerHTML=n)},m(s,i){I(s,e,i),t||(l=q(e,"submit",_e(r[7])),t=!0)},p:ue,d(s){s&&b(e),t=!1,l()}}}function kn(r){let e,n,t=r[0].phone_number+"",l,s;return{c(){e=$("h4"),n=re("Delete "),l=re(t),s=re("?"),this.h()},l(i){e=k(i,"H4",{slot:!0});var o=V(e);n=ie(o,"Delete "),l=ie(o,t),s=ie(o,"?"),o.forEach(b),this.h()},h(){v(e,"slot","title")},m(i,o){I(i,e,o),E(e,n),E(e,l),E(e,s)},p(i,o){o&1&&t!==(t=i[0].phone_number+"")&&Fe(l,t)},d(i){i&&b(e)}}}function Cn(r){let e,n,t,l,s,i,o,a,f,c,m,h,d,u=r[0].confirmed&&dt(),_=(!r[2]||!r[0].confirmed)&&pt(r);function p(w){r[14](w)}let g={backgroundClose:!1,$$slots:{title:[wn],default:[vn]},$$scope:{ctx:r}};r[1]!==void 0&&(g.open=r[1]),a=new De({props:g}),K.push(()=>G(a,"open",p));function P(w){r[15](w)}let C={$$slots:{title:[kn],default:[$n]},$$scope:{ctx:r}};return r[5]!==void 0&&(C.open=r[5]),m=new De({props:C}),K.push(()=>G(m,"open",P)),{c(){e=$("div"),n=$("div"),t=$("input"),s=A(),u&&u.c(),i=A(),_&&_.c(),o=A(),M(a.$$.fragment),c=A(),M(m.$$.fragment),this.h()},l(w){e=k(w,"DIV",{class:!0});var N=V(e);n=k(N,"DIV",{class:!0});var T=V(n);t=k(T,"INPUT",{class:!0,type:!0}),s=U(T),u&&u.l(T),T.forEach(b),i=U(N),_&&_.l(N),N.forEach(b),o=U(w),R(a.$$.fragment,w),c=U(w),R(m.$$.fragment,w),this.h()},h(){v(t,"class","w-full"),v(t,"type","phoneNumber"),t.value=l=r[0].phone_number,t.readOnly=!0,v(n,"class","flex flex-grow relative"),v(e,"class","flex flex-row flex-grow items-center justify-between")},m(w,N){I(w,e,N),E(e,n),E(n,t),E(n,s),u&&u.m(n,null),E(e,i),_&&_.m(e,null),I(w,o,N),O(a,w,N),I(w,c,N),O(m,w,N),d=!0},p(w,[N]){(!d||N&1&&l!==(l=w[0].phone_number)&&t.value!==l)&&(t.value=l),w[0].confirmed?u?N&1&&y(u,1):(u=dt(),u.c(),y(u,1),u.m(n,null)):u&&(Y(),D(u,1,1,()=>{u=null}),x()),!w[2]||!w[0].confirmed?_?(_.p(w,N),N&5&&y(_,1)):(_=pt(w),_.c(),y(_,1),_.m(e,null)):_&&(Y(),D(_,1,1,()=>{_=null}),x());const T={};N&65552&&(T.$$scope={dirty:N,ctx:w}),!f&&N&2&&(f=!0,T.open=w[1],Z(()=>f=!1)),a.$set(T);const j={};N&65537&&(j.$$scope={dirty:N,ctx:w}),!h&&N&32&&(h=!0,j.open=w[5],Z(()=>h=!1)),m.$set(j)},i(w){d||(y(u),y(_),y(a.$$.fragment,w),y(m.$$.fragment,w),d=!0)},o(w){D(u),D(_),D(a.$$.fragment,w),D(m.$$.fragment,w),d=!1},d(w){w&&(b(e),b(o),b(c)),u&&u.d(),_&&_.d(),L(a,w),L(m,w)}}}function Nn(r,e,n){let{user:t}=e,{phoneNumber:l}=e,{primary:s=!1}=e,{sentPhoneNumberConfirmation:i=!1}=e,o=!1;async function a(){try{await le.setPrimaryPhoneNumber(t.id,l.id);const C=t.phone_numbers.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&C.splice(w,1),t.phone_number&&C.push(t.phone_number),n(11,t={...t,phone_number:l,phone_numbers:C}),de(t),n(3,o=!1),await me()}catch(C){await se(C)}}async function f(){try{await le.deletePhoneNumber(t.id,l.id);const C=t.phone_numbers.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&C.splice(w,1),n(11,t={...t,phone_numbers:C}),de(t),n(5,d=!1),await me()}catch(C){await se(C)}}let c;async function m(){try{await le.sendConfirmationToPhoneNumber(t.id,l.id),n(3,o=!1),n(1,i=!0),$e("sent_phoneNumber_confirmation","info")}catch(C){await se(C)}}async function h(){try{n(0,l=await le.confirmPhoneNumber(t.id,l.id,{token:c}));const C=t.phone_numbers.slice(),w=C.findIndex(N=>N.id===l.id);w!==-1&&(C[w]=l),n(11,t={...t,phone_numbers:C}),de(t),n(1,i=!1),$e("phoneNumber_confirmed","success"),await me()}catch(C){await se(C)}}let d=!1;function u(){n(5,d=!0),n(3,o=!1)}function _(C){o=C,n(3,o)}function p(){c=this.value,n(4,c)}function g(C){i=C,n(1,i)}function P(C){d=C,n(5,d)}return r.$$set=C=>{"user"in C&&n(11,t=C.user),"phoneNumber"in C&&n(0,l=C.phoneNumber),"primary"in C&&n(2,s=C.primary),"sentPhoneNumberConfirmation"in C&&n(1,i=C.sentPhoneNumberConfirmation)},[l,i,s,o,c,d,a,f,m,h,u,t,_,p,g,P]}class St extends ee{constructor(e){super(),te(this,e,Nn,Cn,ce,{user:11,phoneNumber:0,primary:2,sentPhoneNumberConfirmation:1})}}function ht(r){let e,n,t,l;return t=new Oe({}),{c(){e=$("div"),n=$("div"),M(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=V(e);n=k(i,"DIV",{class:!0});var o=V(n);R(t.$$.fragment,o),o.forEach(b),i.forEach(b),this.h()},h(){v(n,"class","inline-block w-6 h-6"),v(e,"class","flex flex-row justify-center mr-2")},m(s,i){I(s,e,i),E(e,n),O(t,n,null),l=!0},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&b(e),L(t)}}}function En(r){let e,n,t,l,s,i,o,a,f,c,m,h,d,u,_,p,g,P,C,w;o=new Ie({props:{name:"phoneNumber",result:r[0]}});let N=r[1]&&ht();return g=new Pt({}),{c(){e=$("div"),n=$("form"),t=$("div"),l=$("input"),i=A(),M(o.$$.fragment),a=A(),f=$("div"),c=$("button"),m=re("Cancel"),h=A(),d=$("button"),N&&N.c(),u=re(`
				Add`),_=A(),p=$("button"),M(g.$$.fragment),this.h()},l(T){e=k(T,"DIV",{class:!0});var j=V(e);n=k(j,"FORM",{class:!0});var H=V(n);t=k(H,"DIV",{class:!0});var B=V(t);l=k(B,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),i=U(B),R(o.$$.fragment,B),B.forEach(b),a=U(H),f=k(H,"DIV",{class:!0});var F=V(f);c=k(F,"BUTTON",{class:!0});var Q=V(c);m=ie(Q,"Cancel"),Q.forEach(b),h=U(F),d=k(F,"BUTTON",{type:!0,class:!0});var oe=V(d);N&&N.l(oe),u=ie(oe,`
				Add`),oe.forEach(b),F.forEach(b),H.forEach(b),_=U(j),p=k(j,"BUTTON",{class:!0});var fe=V(p);R(g.$$.fragment,fe),fe.forEach(b),j.forEach(b),this.h()},h(){v(l,"class",s="w-full "+r[4]("phoneNumber")),v(l,"type","text"),v(l,"name","phoneNumber"),v(l,"autocomplete","tel"),v(l,"placeholder","New PhoneNumber"),v(t,"class","mb-2"),v(c,"class","btn secondary flex flex-shrink"),c.disabled=r[5],v(d,"type","submit"),v(d,"class","btn primary flex flex-shrink"),d.disabled=r[5],v(f,"class","flex flex-row justify-end"),v(n,"class","flex flex-col flex-grow"),pe(n,"hidden",!r[3]),v(p,"class","btn primary icon"),pe(p,"hidden",r[3]),v(e,"class","flex flex-row flex-grow justify-end mt-4")},m(T,j){I(T,e,j),E(e,n),E(n,t),E(t,l),ne(l,r[2]),E(t,i),O(o,t,null),E(n,a),E(n,f),E(f,c),E(c,m),E(f,h),E(f,d),N&&N.m(d,null),E(d,u),E(e,_),E(e,p),O(g,p,null),P=!0,C||(w=[q(l,"input",r[11]),q(l,"input",r[6]),q(c,"click",r[8]),q(n,"submit",_e(r[9])),q(p,"click",r[7])],C=!0)},p(T,[j]){(!P||j&16&&s!==(s="w-full "+T[4]("phoneNumber")))&&v(l,"class",s),j&4&&l.value!==T[2]&&ne(l,T[2]);const H={};j&1&&(H.result=T[0]),o.$set(H),(!P||j&32)&&(c.disabled=T[5]),T[1]?N?j&2&&y(N,1):(N=ht(),N.c(),y(N,1),N.m(d,u)):N&&(Y(),D(N,1,1,()=>{N=null}),x()),(!P||j&32)&&(d.disabled=T[5]),(!P||j&8)&&pe(n,"hidden",!T[3]),(!P||j&8)&&pe(p,"hidden",T[3])},i(T){P||(y(o.$$.fragment,T),y(N),y(g.$$.fragment,T),P=!0)},o(T){D(o.$$.fragment,T),D(N),D(g.$$.fragment,T),P=!1},d(T){T&&b(e),L(o),N&&N.d(),L(g),C=!1,ke(w)}}}const yn=()=>Le((r={},e)=>{e.length&&(Be(e),be("phoneNumber","required",()=>{ge(r.phoneNumber).isNotBlank()}))});function In(r,e,n){let t,l,{onCreate:s}=e;const i=yn();let o="",a="",f=i.get();const c=new Set,m=Me(()=>{i({phoneNumber:a},Array.from(c)).done(w=>{n(0,f=w)}),c.clear()},300);function h(){c.add("phoneNumber"),m(),m.flush()}function d(w){c.add(w.currentTarget.name),a=o.replace(/\D/g,""),m()}let u=!1;function _(){n(3,u=!0)}function p(){n(3,u=!1)}let g=!1;async function P(){try{n(1,g=!0),h(),f.isValid()&&(await s(a),n(3,u=!1),n(2,o=""))}catch(w){await se(w)}finally{n(1,g=!1)}}function C(){o=this.value,n(2,o)}return r.$$set=w=>{"onCreate"in w&&n(10,s=w.onCreate)},r.$$.update=()=>{r.$$.dirty&2&&n(5,t=g),r.$$.dirty&1&&n(4,l=Re(f,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[f,g,o,u,l,t,d,_,p,P,s,C]}class Dn extends ee{constructor(e){super(),te(this,e,In,En,ce,{onCreate:10})}}function _t(r,e,n){const t=r.slice();return t[7]=e[n],t[8]=e,t[9]=n,t}function bt(r){let e,n,t,l,s,i;function o(m){r[3](m)}function a(m){r[4](m)}let f={primary:!0};r[0]!==void 0&&(f.user=r[0]),r[0].phone_number!==void 0&&(f.phoneNumber=r[0].phone_number),e=new St({props:f}),K.push(()=>G(e,"user",o)),K.push(()=>G(e,"phoneNumber",a));let c=r[0].phone_numbers.length&&gt();return{c(){M(e.$$.fragment),l=A(),c&&c.c(),s=W()},l(m){R(e.$$.fragment,m),l=U(m),c&&c.l(m),s=W()},m(m,h){O(e,m,h),I(m,l,h),c&&c.m(m,h),I(m,s,h),i=!0},p(m,h){const d={};!n&&h&1&&(n=!0,d.user=m[0],Z(()=>n=!1)),!t&&h&1&&(t=!0,d.phoneNumber=m[0].phone_number,Z(()=>t=!1)),e.$set(d),m[0].phone_numbers.length?c||(c=gt(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(m){i||(y(e.$$.fragment,m),i=!0)},o(m){D(e.$$.fragment,m),i=!1},d(m){m&&(b(l),b(s)),L(e,m),c&&c.d(m)}}}function gt(r){let e;return{c(){e=$("hr"),this.h()},l(n){e=k(n,"HR",{class:!0}),this.h()},h(){v(e,"class","my-1")},m(n,t){I(n,e,t)},d(n){n&&b(e)}}}function vt(r){let e;return{c(){e=$("hr"),this.h()},l(n){e=k(n,"HR",{class:!0}),this.h()},h(){v(e,"class","my-1")},m(n,t){I(n,e,t)},d(n){n&&b(e)}}}function wt(r,e){var d;let n,t,l,s,i,o,a;function f(u){e[5](u)}function c(u){e[6](u,e[7],e[8],e[9])}let m={sentPhoneNumberConfirmation:((d=e[1])==null?void 0:d.id)===e[7].id};e[0]!==void 0&&(m.user=e[0]),e[7]!==void 0&&(m.phoneNumber=e[7]),t=new St({props:m}),K.push(()=>G(t,"user",f)),K.push(()=>G(t,"phoneNumber",c));let h=e[9]<e[0].phone_numbers.length-1&&vt();return{key:r,first:null,c(){n=W(),M(t.$$.fragment),i=A(),h&&h.c(),o=W(),this.h()},l(u){n=W(),R(t.$$.fragment,u),i=U(u),h&&h.l(u),o=W(),this.h()},h(){this.first=n},m(u,_){I(u,n,_),O(t,u,_),I(u,i,_),h&&h.m(u,_),I(u,o,_),a=!0},p(u,_){var g;e=u;const p={};_&3&&(p.sentPhoneNumberConfirmation=((g=e[1])==null?void 0:g.id)===e[7].id),!l&&_&1&&(l=!0,p.user=e[0],Z(()=>l=!1)),!s&&_&1&&(s=!0,p.phoneNumber=e[7],Z(()=>s=!1)),t.$set(p),e[9]<e[0].phone_numbers.length-1?h||(h=vt(),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},i(u){a||(y(t.$$.fragment,u),a=!0)},o(u){D(t.$$.fragment,u),a=!1},d(u){u&&(b(n),b(i),b(o)),L(t,u),h&&h.d(u)}}}function Pn(r){let e,n="Phone Numbers",t,l,s,i,o,a=[],f=new Map,c,m,h,d=r[0].phone_number&&bt(r),u=we(r[0].phone_numbers);const _=p=>p[7].id;for(let p=0;p<u.length;p+=1){let g=_t(r,u,p),P=_(g);f.set(P,a[p]=wt(P,g))}return m=new Dn({props:{onCreate:r[2]}}),{c(){e=$("h3"),e.textContent=n,t=A(),l=$("hr"),s=A(),i=$("div"),d&&d.c(),o=A();for(let p=0;p<a.length;p+=1)a[p].c();c=A(),M(m.$$.fragment),this.h()},l(p){e=k(p,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-mhr2xe"&&(e.textContent=n),t=U(p),l=k(p,"HR",{class:!0}),s=U(p),i=k(p,"DIV",{class:!0});var g=V(i);d&&d.l(g),o=U(g);for(let P=0;P<a.length;P+=1)a[P].l(g);g.forEach(b),c=U(p),R(m.$$.fragment,p),this.h()},h(){v(e,"class","mb-1"),v(l,"class","my-1"),v(i,"class","flex flex-col")},m(p,g){I(p,e,g),I(p,t,g),I(p,l,g),I(p,s,g),I(p,i,g),d&&d.m(i,null),E(i,o);for(let P=0;P<a.length;P+=1)a[P]&&a[P].m(i,null);I(p,c,g),O(m,p,g),h=!0},p(p,[g]){p[0].phone_number?d?(d.p(p,g),g&1&&y(d,1)):(d=bt(p),d.c(),y(d,1),d.m(i,o)):d&&(Y(),D(d,1,1,()=>{d=null}),x()),g&3&&(u=we(p[0].phone_numbers),Y(),a=ze(a,g,_,1,p,u,f,i,Ke,wt,null,_t),x())},i(p){if(!h){y(d);for(let g=0;g<u.length;g+=1)y(a[g]);y(m.$$.fragment,p),h=!0}},o(p){D(d);for(let g=0;g<a.length;g+=1)D(a[g]);D(m.$$.fragment,p),h=!1},d(p){p&&(b(e),b(t),b(l),b(s),b(i),b(c)),d&&d.d();for(let g=0;g<a.length;g+=1)a[g].d();L(m,p)}}}function Vn(r,e,n){let{user:t}=e,l;async function s(c){n(1,l=await le.createPhoneNumber(t.id,{phone_number:c})),n(0,t={...t,phone_numbers:[...t.phone_numbers,l]}),de(t),await me()}function i(c){t=c,n(0,t)}function o(c){r.$$.not_equal(t.phone_number,c)&&(t.phone_number=c,n(0,t))}function a(c){t=c,n(0,t)}function f(c,m,h,d){h[d]=c,n(0,t)}return r.$$set=c=>{"user"in c&&n(0,t=c.user)},[t,l,s,i,o,a,f]}class Tn extends ee{constructor(e){super(),te(this,e,Vn,Pn,ce,{user:0})}}function $t(r){let e,n,t,l;return t=new Oe({}),{c(){e=$("div"),n=$("div"),M(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=V(e);n=k(i,"DIV",{class:!0});var o=V(n);R(t.$$.fragment,o),o.forEach(b),i.forEach(b),this.h()},h(){v(n,"class","inline-block w-6 h-6"),v(e,"class","flex flex-row justify-center mr-2")},m(s,i){I(s,e,i),E(e,n),O(t,n,null),l=!0},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&b(e),L(t)}}}function jn(r){let e,n="Reset Password",t,l,s,i,o,a,f,c,m,h,d,u,_,p,g,P,C,w,N,T;f=new Ie({props:{name:"password",result:r[0]}}),_=new Ie({props:{name:"passwordConfirmation",result:r[0]}});let j=r[1]&&$t();return{c(){e=$("h3"),e.textContent=n,t=A(),l=$("form"),s=$("div"),i=$("input"),a=A(),M(f.$$.fragment),c=A(),m=$("div"),h=$("input"),u=A(),M(_.$$.fragment),p=A(),g=$("div"),P=$("button"),j&&j.c(),C=re(`
			Reset`),this.h()},l(H){e=k(H,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-vlgv8m"&&(e.textContent=n),t=U(H),l=k(H,"FORM",{});var B=V(l);s=k(B,"DIV",{class:!0});var F=V(s);i=k(F,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),a=U(F),R(f.$$.fragment,F),F.forEach(b),c=U(B),m=k(B,"DIV",{class:!0});var Q=V(m);h=k(Q,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),u=U(Q),R(_.$$.fragment,Q),Q.forEach(b),p=U(B),g=k(B,"DIV",{class:!0});var oe=V(g);P=k(oe,"BUTTON",{type:!0,class:!0});var fe=V(P);j&&j.l(fe),C=ie(fe,`
			Reset`),fe.forEach(b),oe.forEach(b),B.forEach(b),this.h()},h(){v(e,"class","mb-1"),v(i,"class",o="w-full "+r[4]("password")),v(i,"type","password"),v(i,"name","password"),v(i,"autocomplete","new-password"),v(i,"placeholder","Password"),v(s,"class","mb-2"),v(h,"class",d="w-full "+r[4]("passwordConfirmation")),v(h,"type","password"),v(h,"name","passwordConfirmation"),v(h,"autocomplete","new-password"),v(h,"placeholder","Password Confirmation"),v(m,"class","mb-2"),v(P,"type","submit"),v(P,"class","btn primary flex flex-shrink"),P.disabled=r[5],v(g,"class","flex flex-row justify-end")},m(H,B){I(H,e,B),I(H,t,B),I(H,l,B),E(l,s),E(s,i),ne(i,r[2]),E(s,a),O(f,s,null),E(l,c),E(l,m),E(m,h),ne(h,r[3]),E(m,u),O(_,m,null),E(l,p),E(l,g),E(g,P),j&&j.m(P,null),E(P,C),w=!0,N||(T=[q(i,"input",r[8]),q(i,"input",r[6]),q(h,"input",r[9]),q(h,"input",r[6]),q(l,"submit",_e(r[7]))],N=!0)},p(H,[B]){(!w||B&16&&o!==(o="w-full "+H[4]("password")))&&v(i,"class",o),B&4&&i.value!==H[2]&&ne(i,H[2]);const F={};B&1&&(F.result=H[0]),f.$set(F),(!w||B&16&&d!==(d="w-full "+H[4]("passwordConfirmation")))&&v(h,"class",d),B&8&&h.value!==H[3]&&ne(h,H[3]);const Q={};B&1&&(Q.result=H[0]),_.$set(Q),H[1]?j?B&2&&y(j,1):(j=$t(),j.c(),y(j,1),j.m(P,C)):j&&(Y(),D(j,1,1,()=>{j=null}),x()),(!w||B&32)&&(P.disabled=H[5])},i(H){w||(y(f.$$.fragment,H),y(_.$$.fragment,H),y(j),w=!0)},o(H){D(f.$$.fragment,H),D(_.$$.fragment,H),D(j),w=!1},d(H){H&&(b(e),b(t),b(l)),L(f),L(_),j&&j.d(),N=!1,ke(T)}}}const Sn=()=>Le((r={},e)=>{e.length&&(Be(e),be("password","required",()=>{ge(r.password).isNotBlank()}),be("passwordConfirmation","required",()=>{ge(r.passwordConfirmation).isNotBlank()}),be("passwordConfirmation","password_confirmation_mismatch",()=>{ge(r.passwordConfirmation).equals(r.password)}))});function An(r,e,n){let t,l;const s=Sn();let i="",o="",a=s.get();const f=new Set,c=Me(()=>{s({password:i,passwordConfirmation:o},Array.from(f)).done(g=>{n(0,a=g)}),f.clear()},300);function m(){f.add("password"),f.add("passwordConfirmation"),c(),c.flush()}function h(g){f.add(g.currentTarget.name),c()}let d=!1;async function u(g){try{n(1,d=!0),m(),a.isValid()&&(await le.resetPassword({password:i,password_confirmation:o}),n(2,i=""),n(3,o=""),s.reset(),n(0,a=s.get()),$e("password_reset","success"))}catch(P){await se(P)}finally{n(1,d=!1)}}function _(){i=this.value,n(2,i)}function p(){o=this.value,n(3,o)}return r.$$.update=()=>{r.$$.dirty&2&&n(5,t=d),r.$$.dirty&1&&n(4,l=Re(a,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[a,d,i,o,l,t,h,u,_,p]}class Un extends ee{constructor(e){super(),te(this,e,An,jn,ce,{})}}function kt(r){let e,n,t,l,s=r[1]&&Ct();return{c(){e=$("div"),n=$("button"),s&&s.c(),t=re(`
				Update`),this.h()},l(i){e=k(i,"DIV",{class:!0});var o=V(e);n=k(o,"BUTTON",{type:!0,class:!0});var a=V(n);s&&s.l(a),t=ie(a,`
				Update`),a.forEach(b),o.forEach(b),this.h()},h(){v(n,"type","submit"),v(n,"class","btn primary flex flex-shrink"),n.disabled=r[5],v(e,"class","flex flex-row justify-end")},m(i,o){I(i,e,o),E(e,n),s&&s.m(n,null),E(n,t),l=!0},p(i,o){i[1]?s?o&2&&y(s,1):(s=Ct(),s.c(),y(s,1),s.m(n,t)):s&&(Y(),D(s,1,1,()=>{s=null}),x()),(!l||o&32)&&(n.disabled=i[5])},i(i){l||(y(s),l=!0)},o(i){D(s),l=!1},d(i){i&&b(e),s&&s.d()}}}function Ct(r){let e,n,t,l;return t=new Oe({}),{c(){e=$("div"),n=$("div"),M(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=V(e);n=k(i,"DIV",{class:!0});var o=V(n);R(t.$$.fragment,o),o.forEach(b),i.forEach(b),this.h()},h(){v(n,"class","inline-block w-6 h-6"),v(e,"class","flex flex-row justify-center mr-2")},m(s,i){I(s,e,i),E(e,n),O(t,n,null),l=!0},i(s){l||(y(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&b(e),L(t)}}}function Hn(r){let e,n="Change Username",t,l,s,i,o,a,f,c,m,h,d;f=new Ie({props:{name:"username",result:r[0]}});let u=r[2]!==r[3]&&kt(r);return{c(){e=$("h3"),e.textContent=n,t=A(),l=$("form"),s=$("div"),i=$("input"),a=A(),M(f.$$.fragment),c=A(),u&&u.c(),this.h()},l(_){e=k(_,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-tkju5c"&&(e.textContent=n),t=U(_),l=k(_,"FORM",{});var p=V(l);s=k(p,"DIV",{class:!0});var g=V(s);i=k(g,"INPUT",{class:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0}),a=U(g),R(f.$$.fragment,g),g.forEach(b),c=U(p),u&&u.l(p),p.forEach(b),this.h()},h(){v(e,"class","mb-1"),v(i,"class",o="w-full "+r[4]("username")),v(i,"type","username"),v(i,"name","username"),v(i,"autocomplete","username"),v(i,"placeholder","Username"),v(s,"class","mb-2")},m(_,p){I(_,e,p),I(_,t,p),I(_,l,p),E(l,s),E(s,i),ne(i,r[3]),E(s,a),O(f,s,null),E(l,c),u&&u.m(l,null),m=!0,h||(d=[q(i,"input",r[9]),q(i,"input",r[6]),q(l,"submit",_e(r[7]))],h=!0)},p(_,[p]){(!m||p&16&&o!==(o="w-full "+_[4]("username")))&&v(i,"class",o),p&8&&ne(i,_[3]);const g={};p&1&&(g.result=_[0]),f.$set(g),_[2]!==_[3]?u?(u.p(_,p),p&12&&y(u,1)):(u=kt(_),u.c(),y(u,1),u.m(l,null)):u&&(Y(),D(u,1,1,()=>{u=null}),x())},i(_){m||(y(f.$$.fragment,_),y(u),m=!0)},o(_){D(f.$$.fragment,_),D(u),m=!1},d(_){_&&(b(e),b(t),b(l)),L(f),u&&u.d(),h=!1,ke(d)}}}const Mn=()=>Le((r={},e)=>{e.length&&(Be(e),be("username","required",()=>{ge(r.username).isNotBlank()}),be("username","no_change",()=>{ge(r.username).notEquals(r.initialUsername)}))});function Rn(r,e,n){let t,l,s,i,{user:o}=e;const a=Mn();let f=a.get();const c=new Set,m=Me(()=>{a({username:l,initialUsername:t},Array.from(c)).done(g=>{n(0,f=g)}),c.clear()},300);function h(){c.add("username"),m(),m.flush()}function d(g){g.currentTarget.value=g.currentTarget.value.trim(),c.add(g.currentTarget.name),m()}let u=!1;async function _(){try{n(1,u=!0),h(),f.isValid()&&(n(8,o=await le.updateUserById(o.id,{username:l})),de(o),a.reset(),n(0,f=a.get()),$e("username_changed","success"),await me())}catch(g){await se(g)}finally{n(1,u=!1)}}function p(){l=this.value,n(3,l),n(2,t),n(8,o)}return r.$$set=g=>{"user"in g&&n(8,o=g.user)},r.$$.update=()=>{r.$$.dirty&256&&n(2,t=o.username),r.$$.dirty&4&&n(3,l=t),r.$$.dirty&2&&n(5,s=u),r.$$.dirty&1&&n(4,i=Re(f,{untested:"untested",tested:"tested",invalid:"invalid",valid:"valid",warning:"warning"}))},[f,u,t,l,i,s,d,_,o,p]}class On extends ee{constructor(e){super(),te(this,e,Rn,Hn,ce,{user:8})}}function Ln(r){let e,n,t,l="Remove",s,i,o;return n=new Je({}),{c(){e=$("li"),M(n.$$.fragment),t=$("span"),t.textContent=l,this.h()},l(a){e=k(a,"LI",{class:!0});var f=V(e);R(n.$$.fragment,f),t=k(f,"SPAN",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-j2otla"&&(t.textContent=l),f.forEach(b),this.h()},h(){v(t,"class","ms-4"),v(e,"class","flex flex-row justify-between p-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600")},m(a,f){I(a,e,f),O(n,e,null),E(e,t),s=!0,i||(o=q(e,"click",r[2]),i=!0)},p:ue,i(a){s||(y(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&b(e),L(n),i=!1,o()}}}function Bn(r){let e,n;return e=new Ge({props:{slot:"button"}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p:ue,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function qn(r){let e,n,t,l,s=r[0].description+"",i,o,a,f,c,m;function h(u){r[5](u)}let d={$$slots:{button:[Bn],default:[Ln]},$$scope:{ctx:r}};return r[1]!==void 0&&(d.open=r[1]),f=new Ze({props:d}),K.push(()=>G(f,"open",h)),{c(){e=$("div"),n=$("div"),t=$("div"),l=$("h5"),i=re(s),o=A(),a=$("div"),M(f.$$.fragment),this.h()},l(u){e=k(u,"DIV",{class:!0});var _=V(e);n=k(_,"DIV",{class:!0});var p=V(n);t=k(p,"DIV",{class:!0});var g=V(t);l=k(g,"H5",{});var P=V(l);i=ie(P,s),P.forEach(b),g.forEach(b),p.forEach(b),o=U(_),a=k(_,"DIV",{class:!0});var C=V(a);R(f.$$.fragment,C),C.forEach(b),_.forEach(b),this.h()},h(){v(t,"class","relative"),v(n,"class","flex flex-grow"),v(a,"class","flex flex-shrink"),v(e,"class","flex flex-row flex-grow items-center justify-between")},m(u,_){I(u,e,_),E(e,n),E(n,t),E(t,l),E(l,i),E(e,o),E(e,a),O(f,a,null),m=!0},p(u,[_]){(!m||_&1)&&s!==(s=u[0].description+"")&&Fe(i,s);const p={};_&64&&(p.$$scope={dirty:_,ctx:u}),!c&&_&2&&(c=!0,p.open=u[1],Z(()=>c=!1)),f.$set(p)},i(u){m||(y(f.$$.fragment,u),m=!0)},o(u){D(f.$$.fragment,u),m=!1},d(u){u&&b(e),L(f)}}}function Fn(r,e,n){let{user:t}=e,{application:l}=e,{onDelete:s}=e,i=!1;async function o(){try{await le.removeUserFromApplication(t.id,l.id),s(l)}catch(f){se(f)}}function a(f){i=f,n(1,i)}return r.$$set=f=>{"user"in f&&n(3,t=f.user),"application"in f&&n(0,l=f.application),"onDelete"in f&&n(4,s=f.onDelete)},[l,i,o,t,s,a]}class zn extends ee{constructor(e){super(),te(this,e,Fn,qn,ce,{user:3,application:0,onDelete:4})}}function Nt(r,e,n){const t=r.slice();return t[3]=e[n],t[5]=n,t}function Et(r){let e;return{c(){e=$("hr"),this.h()},l(n){e=k(n,"HR",{class:!0}),this.h()},h(){v(e,"class","my-1")},m(n,t){I(n,e,t)},d(n){n&&b(e)}}}function yt(r,e){let n,t,l,s,i;t=new zn({props:{user:e[1],application:e[3],onDelete:e[2]}});let o=e[5]<e[0].items.length-1&&Et();return{key:r,first:null,c(){n=W(),M(t.$$.fragment),l=A(),o&&o.c(),s=W(),this.h()},l(a){n=W(),R(t.$$.fragment,a),l=U(a),o&&o.l(a),s=W(),this.h()},h(){this.first=n},m(a,f){I(a,n,f),O(t,a,f),I(a,l,f),o&&o.m(a,f),I(a,s,f),i=!0},p(a,f){e=a;const c={};f&2&&(c.user=e[1]),f&1&&(c.application=e[3]),t.$set(c),e[5]<e[0].items.length-1?o||(o=Et(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){i||(y(t.$$.fragment,a),i=!0)},o(a){D(t.$$.fragment,a),i=!1},d(a){a&&(b(n),b(l),b(s)),L(t,a),o&&o.d(a)}}}function Kn(r){let e,n="Applications",t,l,s,i,o=[],a=new Map,f,c=we(r[0].items);const m=h=>h[3].id;for(let h=0;h<c.length;h+=1){let d=Nt(r,c,h),u=m(d);a.set(u,o[h]=yt(u,d))}return{c(){e=$("h3"),e.textContent=n,t=A(),l=$("hr"),s=A(),i=$("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=k(h,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-bzcri3"&&(e.textContent=n),t=U(h),l=k(h,"HR",{class:!0}),s=U(h),i=k(h,"DIV",{class:!0});var d=V(i);for(let u=0;u<o.length;u+=1)o[u].l(d);d.forEach(b),this.h()},h(){v(e,"class","mb-1"),v(l,"class","my-1"),v(i,"class","flex flex-col")},m(h,d){I(h,e,d),I(h,t,d),I(h,l,d),I(h,s,d),I(h,i,d);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null);f=!0},p(h,[d]){d&7&&(c=we(h[0].items),Y(),o=ze(o,d,m,1,h,c,a,i,Ke,yt,null,Nt),x())},i(h){if(!f){for(let d=0;d<c.length;d+=1)y(o[d]);f=!0}},o(h){for(let d=0;d<o.length;d+=1)D(o[d]);f=!1},d(h){h&&(b(e),b(t),b(l),b(s),b(i));for(let d=0;d<o.length;d+=1)o[d].d()}}}function Zn(r,e,n){let{user:t}=e,{applications:l}=e;function s(i){const o=l.items.slice(),a=o.findIndex(f=>f.id===i.id);a!==-1&&(o.splice(a,1),n(0,l={has_more:l.has_more,items:o}))}return r.$$set=i=>{"user"in i&&n(1,t=i.user),"applications"in i&&n(0,l=i.applications)},[l,t,s]}class Gn extends ee{constructor(e){super(),te(this,e,Zn,Kn,ce,{user:1,applications:0})}}function It(r){let e,n,t,l,s;return l=new Un({}),{c(){e=$("div"),n=$("div"),t=$("div"),M(l.$$.fragment),this.h()},l(i){e=k(i,"DIV",{class:!0});var o=V(e);n=k(o,"DIV",{class:!0});var a=V(n);t=k(a,"DIV",{class:!0});var f=V(t);R(l.$$.fragment,f),f.forEach(b),a.forEach(b),o.forEach(b),this.h()},h(){v(t,"class","mb-2"),v(n,"class","flex flex-col flex-shrink w-full max-w-lg mx-auto mb-4 bg-white dark:bg-gray-800 shadow p-4"),v(e,"class","flex flex-col justify-end md:justify-start px-4")},m(i,o){I(i,e,o),E(e,n),E(n,t),O(l,t,null),s=!0},i(i){s||(y(l.$$.fragment,i),s=!0)},o(i){D(l.$$.fragment,i),s=!1},d(i){i&&b(e),L(l)}}}function Jn(r){var Ye;let e,n,t,l,s,i,o,a,f,c,m,h,d,u,_,p,g,P,C,w,N,T,j,H,B,F,Q;function oe(S){r[3](S)}function fe(S){r[4](S)}let qe={};r[0]!==void 0&&(qe.user=r[0]),r[1]!==void 0&&(qe.applications=r[1]),l=new Gn({props:qe}),K.push(()=>G(l,"user",oe)),K.push(()=>G(l,"applications",fe));function At(S){r[5](S)}let Qe={};r[0]!==void 0&&(Qe.user=r[0]),m=new On({props:Qe}),K.push(()=>G(m,"user",At));function Ut(S){r[6](S)}let We={};r[0]!==void 0&&(We.user=r[0]),g=new pn({props:We}),K.push(()=>G(g,"user",Ut));function Ht(S){r[7](S)}let Xe={};r[0]!==void 0&&(Xe.user=r[0]),j=new Tn({props:Xe}),K.push(()=>G(j,"user",Ht));let J=r[0].id===((Ye=r[2])==null?void 0:Ye.id)&&It();return{c(){e=$("div"),n=$("div"),t=$("div"),M(l.$$.fragment),o=A(),a=$("div"),f=$("div"),c=$("div"),M(m.$$.fragment),d=A(),u=$("div"),_=$("div"),p=$("div"),M(g.$$.fragment),C=A(),w=$("div"),N=$("div"),T=$("div"),M(j.$$.fragment),B=A(),J&&J.c(),F=W(),this.h()},l(S){e=k(S,"DIV",{class:!0});var z=V(e);n=k(z,"DIV",{class:!0});var ve=V(n);t=k(ve,"DIV",{class:!0});var Ce=V(t);R(l.$$.fragment,Ce),Ce.forEach(b),ve.forEach(b),z.forEach(b),o=U(S),a=k(S,"DIV",{class:!0});var Ne=V(a);f=k(Ne,"DIV",{class:!0});var Ee=V(f);c=k(Ee,"DIV",{class:!0});var ye=V(c);R(m.$$.fragment,ye),ye.forEach(b),Ee.forEach(b),Ne.forEach(b),d=U(S),u=k(S,"DIV",{class:!0});var xe=V(u);_=k(xe,"DIV",{class:!0});var et=V(_);p=k(et,"DIV",{class:!0});var tt=V(p);R(g.$$.fragment,tt),tt.forEach(b),et.forEach(b),xe.forEach(b),C=U(S),w=k(S,"DIV",{class:!0});var nt=V(w);N=k(nt,"DIV",{class:!0});var lt=V(N);T=k(lt,"DIV",{class:!0});var st=V(T);R(j.$$.fragment,st),st.forEach(b),lt.forEach(b),nt.forEach(b),B=U(S),J&&J.l(S),F=W(),this.h()},h(){v(t,"class","mb-2"),v(n,"class","flex flex-col flex-shrink w-full max-w-lg mx-auto my-4 bg-white dark:bg-gray-800 shadow p-4"),v(e,"class","flex flex-col justify-end md:justify-start px-4"),v(c,"class","mb-2"),v(f,"class","flex flex-col flex-shrink w-full max-w-lg mx-auto mb-4 bg-white dark:bg-gray-800 shadow p-4"),v(a,"class","flex flex-col justify-end md:justify-start px-4"),v(p,"class","mb-2"),v(_,"class","flex flex-col flex-shrink w-full max-w-lg mx-auto mb-4 bg-white dark:bg-gray-800 shadow p-4"),v(u,"class","flex flex-col justify-end md:justify-start px-4"),v(T,"class","mb-2"),v(N,"class","flex flex-col flex-shrink w-full max-w-lg mx-auto mb-4 bg-white dark:bg-gray-800 shadow p-4"),v(w,"class","flex flex-col justify-end md:justify-start px-4")},m(S,z){I(S,e,z),E(e,n),E(n,t),O(l,t,null),I(S,o,z),I(S,a,z),E(a,f),E(f,c),O(m,c,null),I(S,d,z),I(S,u,z),E(u,_),E(_,p),O(g,p,null),I(S,C,z),I(S,w,z),E(w,N),E(N,T),O(j,T,null),I(S,B,z),J&&J.m(S,z),I(S,F,z),Q=!0},p(S,[z]){var ye;const ve={};!s&&z&1&&(s=!0,ve.user=S[0],Z(()=>s=!1)),!i&&z&2&&(i=!0,ve.applications=S[1],Z(()=>i=!1)),l.$set(ve);const Ce={};!h&&z&1&&(h=!0,Ce.user=S[0],Z(()=>h=!1)),m.$set(Ce);const Ne={};!P&&z&1&&(P=!0,Ne.user=S[0],Z(()=>P=!1)),g.$set(Ne);const Ee={};!H&&z&1&&(H=!0,Ee.user=S[0],Z(()=>H=!1)),j.$set(Ee),S[0].id===((ye=S[2])==null?void 0:ye.id)?J?z&5&&y(J,1):(J=It(),J.c(),y(J,1),J.m(F.parentNode,F)):J&&(Y(),D(J,1,1,()=>{J=null}),x())},i(S){Q||(y(l.$$.fragment,S),y(m.$$.fragment,S),y(g.$$.fragment,S),y(j.$$.fragment,S),y(J),Q=!0)},o(S){D(l.$$.fragment,S),D(m.$$.fragment,S),D(g.$$.fragment,S),D(j.$$.fragment,S),D(J),Q=!1},d(S){S&&(b(e),b(o),b(a),b(d),b(u),b(C),b(w),b(B),b(F)),L(l),L(m),L(g),L(j),J&&J.d(S)}}}function Qn(r,e,n){let t;Mt(r,Rt,m=>n(2,t=m));let{user:l}=e,{applications:s}=e;function i(m){l=m,n(0,l)}function o(m){s=m,n(1,s)}function a(m){l=m,n(0,l)}function f(m){l=m,n(0,l)}function c(m){l=m,n(0,l)}return r.$$set=m=>{"user"in m&&n(0,l=m.user),"applications"in m&&n(1,s=m.applications)},[l,s,t,i,o,a,f,c]}class fl extends ee{constructor(e){super(),te(this,e,Qn,Jn,ce,{user:0,applications:1})}}export{fl as P};
